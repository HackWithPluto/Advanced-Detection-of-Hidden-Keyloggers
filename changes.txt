Implementation task — Rename “timewindow” → “autoscan” and move results into UI panel (no popups)

Context & refs: use the existing implementation spec and project structure. See the implementation instructions file at /mnt/data/implementation.txt. 


Project structure: Advanced-Detection-of-Hidden-Keyloggers (root), scanner/, utils/, gui.py, thread.py, etc. 


Goal: Replace the old “timewindow” naming and popup behavior with a clean autoscan module and a dedicated AutoScan Result button + panel in the Tool UI. Auto-scan runs in background, results appear in the AutoScan Result window and refresh on every new auto-scan; no popup windows should appear.

Required changes (precise):

File rename + module contract

Rename the current timewindow_scanner.py (or any file currently named with timewindow) to autoscan.py.

Move autoscan.py into the same package/location the old file lived (preserve scanner/ if it was a scanner module).

Update all imports across the repository (e.g., in thread.py, gui.py, main.py, any helper modules) to import autoscan instead of timewindow*.

Ensure exported API remains the same (if the old module provided build_scan_queue, start_autoscan, etc., keep or provide wrapper functions).

Rename labels, headlines and identifiers

Replace every user-facing string and internal identifier containing TimeWindow, timewindow, Time Window with AutoScan, autoscan, AutoScan respectively. This includes:

GUI headlines, buttons, menu entries, and result window headings.

Any log messages and log file headers that reference “timewindow”.

Comments and README references (optional but preferred).

Keep verdict strings (“Keylogger Detected”, “Suspicion”, “Normal”, “Clean”) unchanged.

No popups — new AutoScan Result panel

Remove or disable any popup windows that the old autoscan/timewindow logic created at scan completion or upon detection.

Add a new button on the Tool UI labelled “AutoScan Result” (replace the previous “AutoScan” button if present).

Clicking AutoScan Result opens a persistent panel/window (the AutoScan Result window) that:

Shows the latest autoscan run results (rows for each file scanned).

Automatically refreshes when a new autoscan finishes (old on-screen results are replaced by the latest autoscan results).

Does not open any modal popup on detection; all detections are shown in this panel.

The AutoScan Result window must preserve the same visual style and behavior as the main scan results:

Color-coding: green = normal/clean, red = suspicious/detected, cyan = completion banner.

Show per-row action buttons: Delete, Quarantine, Cancel/Mark Normal (same behavior and modals as before, except do not spawn a popup automatically).

Background autoscan behavior

Autoscan should run automatically at tool startup (as before) but results should not popup; they must only appear/refresh in the AutoScan Result panel.

Keep triggers: periodic auto-scan (1 hour or user-configured), and immediate scan on external storage insertion (scan that drive only). (These behaviors already integrated — ensure autoscan module is used by thread scheduler.)

The autoscan worker must run in background threads and report results via the existing append_result_safe/GUI callbacks (or equivalent) to update the AutoScan Result panel in a thread-safe way (use .after() as used elsewhere).

Log behavior

Persist logs to the same log file (no change): database/logs/scan_logs.txt.

Do not delete or truncate the log file on each autoscan — keep permanent logs (UI Clean should clear only the on-screen view, not the persisted logs).

Update any log headings that used “timewindow” to use “autoscan” (but keep line format YYYY-MM-DD HH:MM:SS → <item> → <result>).

Imports & thread integration

Update thread.py (and any other orchestration modules) to call the new autoscan module functions and to route autoscan results to the AutoScan Result panel. Ensure:

Duplicate suppression remains (same logged_files sets).

Cancellation uses stop_event unchanged.

Per-file timeouts and error handling preserved.

UI change — Tool UI button rename

Replace the existing Tool UI AutoScan button text with “AutoScan Result” and wire it to open the new panel.

Ensure the landing page menu or any other places referencing “TimeWindow” get renamed.

Testing & validation (in-script tests only)

After implementing, run the main app from main.py and validate:

AutoScan runs at startup and every configured interval.

No popup windows appear on scan finish or detection.

AutoScan Result panel opens via the new button and shows latest results.

On a subsequent autoscan, the AutoScan Result panel refreshes (old on-screen entries replaced with new run entries).

Quarantine/Delete/Mark Normal behave exactly as before.

Log file database/logs/scan_logs.txt receives persistent entries for each scan and action.

USB insertion triggers scan of inserted drive and results appear in AutoScan Result panel (no popup).

Do not create separate test files — run tests within the same script/application.

Backward compatibility

Keep verifier hooks, verdict strings, result dict schema (file, status, action, verdict, matches) intact for compatibility with the rest of the system.

If renaming breaks import paths in other modules, add a thin compatibility shim module named timewindow_scanner.py that imports and re-exports from autoscan.py for a transitional period.

Deliverable notes

Provide a short developer note listing the files changed and any new/renamed functions.

If any ambiguous or missing dependency appears during rename (case-sensitivity on Linux), point it out and include the exact failing import lines.

Reference file (implementation spec): /mnt/data/implementation.txt. 



Project structure reference: use the uploaded structure file for exact module locations. 